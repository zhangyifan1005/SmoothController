//
// Created by ZYF on 24-6-26.
//

#include "smooth_controller.hpp"
#include <string>
#include <iostream>
#include <vector>

int main()
{
  SmoothController smooth_controller;

  std::vector<float> measurements = {
    0.43,0.70,0.40,0.48,0.61,0.60,0.68,0.62,0.77,0.80,0.57,0.65,0.43,0.56,0.60,0.66,0.63,0.72,0.58,0.51,0.76,0.70,0.50,0.53,0.67,0.67,0.49,0.46,0.72,0.40,0.45,0.68,0.52,0.54,0.75,0.77,0.59,0.60,0.71,0.60,0.51,0.54,0.66,0.63,0.76,0.69,0.67,0.63,0.59,0.40,
    0.40,0.78,0.43,0.69,0.57,0.63,0.56,0.43,0.73,0.76,0.64,0.45,0.72,0.58,0.53,0.48,0.58,0.68,0.67,0.71,0.58,0.77,0.56,0.52,0.80,0.46,0.73,0.60,0.59,0.45,0.72,0.72,0.41,0.42,0.76,0.62,0.51,0.52,0.48,0.55,0.43,0.41,0.51,0.75,0.77,0.64,0.58,0.64,0.61,0.48,
    0.26,0.20,0.25,0.23,0.25,0.29,0.26,0.26,0.22,0.29,0.23,0.23,0.22,0.22,0.26,0.27,0.21,0.27,0.20,0.24,0.30,0.20,0.29,0.23,0.28,0.25,0.22,0.21,0.26,0.22,0.24,0.23,0.24,0.20,0.26,0.25,0.29,0.26,0.28,0.30,0.20,0.26,0.21,0.22,0.26,0.23,0.22,0.27,0.28,0.24,
    0.23,0.21,0.24,0.22,0.26,0.28,0.24,0.20,0.25,0.30,0.30,0.22,0.20,0.21,0.25,0.24,0.25,0.20,0.29,0.25,0.30,0.29,0.25,0.20,0.24,0.26,0.25,0.25,0.21,0.20,0.22,0.29,0.29,0.23,0.27,0.24,0.28,0.25,0.28,0.30,0.24,0.20,0.25,0.23,0.23,0.29,0.26,0.22,0.23,0.30,
    0.22,0.20,0.21,0.26,0.27,0.22,0.25,0.23,0.30,0.21,0.25,0.26,0.28,0.30,0.25,0.30,0.26,0.29,0.20,0.25,0.29,0.26,0.20,0.29,0.30,0.30,0.29,0.26,0.28,0.24,0.25,0.29,0.21,0.21,0.22,0.28,0.26,0.24,0.21,0.21,0.28,0.21,0.29,0.24,0.30,0.20,0.22,0.30,0.25,0.25,
    0.20,0.28,0.26,0.21,0.20,0.26,0.26,0.24,0.30,0.22,0.28,0.29,0.21,0.29,0.22,0.28,0.30,0.25,0.28,0.29,0.26,0.23,0.27,0.26,0.22,0.30,0.26,0.25,0.28,0.29,0.26,0.21,0.29,0.30,0.20,0.24,0.23,0.30,0.27,0.25,0.23,0.29,0.28,0.22,0.28,0.28,0.30,0.28,0.29,0.23,
    0.22,0.30,0.27,0.25,0.26,0.22,0.22,0.27,0.23,0.25,0.27,0.22,0.21,0.30,0.29,0.30,0.23,0.26,0.23,0.20,0.27,0.21,0.24,0.20,0.28,0.29,0.21,0.29,0.21,0.21,0.29,0.21,0.28,0.24,0.23,0.26,0.20,0.30,0.25,0.22,0.26,0.27,0.27,0.29,0.28,0.24,0.27,0.30,0.28,0.27,
    0.26,0.25,0.30,0.28,0.25,0.26,0.25,0.29,0.27,0.22,0.24,0.27,0.30,0.29,0.25,0.30,0.28,0.25,0.23,0.23,0.20,0.21,0.28,0.23,0.29,0.26,0.25,0.25,0.29,0.24,0.28,0.21,0.24,0.29,0.28,0.25,0.29,0.22,0.30,0.28,0.28,0.23,0.22,0.25,0.23,0.24,0.24,0.28,0.21,0.29
  };

  int count = 0;

  for(auto input : measurements)
  {
    float output = smooth_controller.Update(std::string("test"),1,input);

    std::cout << "count = " << count++ << " ,input score = " << input << " ,output score = " << output << std::endl;
  }

  return 0;
}